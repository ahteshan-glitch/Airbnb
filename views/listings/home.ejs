<%layout("./layouts/boilerplate.ejs")%>
<style>
  .filters{
    display: flex;
    flex-wrap: wrap;
    margin-top: 1rem;
    
    align-self: center;
  }
  .filter{
    text-align: center;
    margin-right: 2.5rem;
    opacity: 0.8;
  }
  .filter:hover{
    opacity: 1;
    cursor: pointer;
  }
  .filter p{
    font-size: 0.8rem;
  }
  .gst{
    display: none;
  }
  #togglebtn {
    border: 1px solid #ddd;
    border-radius: 0.75rem;
    height: 2.75rem;
    display: flex;
    align-items: center;
    padding: 0 1rem;
    background: linear-gradient(to right, #f8f9fa 0%, #f1f3f5 100%);
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    margin-left: auto; /* Pushes to far right */
  }

  #togglebtn:hover {
    background: linear-gradient(to right, #f1f3f5 0%, #e9ecef 100%);
    box-shadow: 0 3px 6px rgba(0,0,0,0.08);
    transform: translateY(-1px);
  }

  #togglebtn:active {
    transform: translateY(0);
  }

  #togglebtn .form-check-label {
    font-size: 0.9rem;
    font-weight: 500;
    color: #495057;
    margin-right: 0.75rem;
  }

  #togglebtn .form-check-input {
    margin-left: 0.5rem;
    cursor: pointer;
  }
</style>
<div class="filters">
  <div class="filter">
    <div><i class="fa-solid fa-fire"></i></div>
    <p>Trending</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-bed"></i></div>
    <p>Rooms</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-mountain-city"></i></div>
    <p>Iconic cities</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-mountain"></i></div>
    <p>Mountain cities</p>
  </div>
  <div class="filter">
    <div><i class="fa-brands fa-fort-awesome"></i></div>
    <p>Castles</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-person-swimming"></i></div>
    <p>Amazing pools</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-campground"></i></div>
    <p>Camping</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-cow"></i></div>
    <p>Farming</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-igloo"></i></div>
    <p>Arctic</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-ferry"></i></div>
    <p>Boat house</p>
  </div>
  <div class="filter">
    <div><i class="fa-solid fa-cable-car"></i></div>
    <p>Cable house</p>
  </div>
  <div id="togglebtn">
    <div class="form-check-reverse form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
    </div>
  </div>
</div>
<body>
  <div class="cards row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
    <%for(data of listings){%>
        
      <div class="card col list-card" style="width: 22rem;">
        <img src="<%=data.image.url%>" class="card-img-top" alt="image" style="height: 18rem;">
        <div class="card-body">
          <h5 class="card-title"><%=data.title%></h5>
          <p class="card-text"><%=data.description%></p>
          <p class="card-text"><%=data.price%><i class="gst">&nbsp;&nbsp;+18% GST</i></p>
          <p class="card-text"><%=data.location%></p>
          <p class="card-text"><%=data.country%></p>
          
          <a href="http://localhost:9090/listings/details/<%=data._id%>" class="btn btn-primary" >Details</a>
        </div>
      </div>
    
<%}%>
  </div>
      
   
    
<script>
  let toggle=document.getElementById("togglebtn")
  toggle.addEventListener("click",()=>{
    let tax=document.getElementsByClassName("gst")
    
   for(info of tax){
    if(info.style.display!="inline"){
      info.style.display="inline"
    }
    else{
    info.style.display="none"
   }


  
   }
  
  
  })
</script>

